/* =============================================
 * Theme-Invariant Tokens (defined once)
 * ============================================= */
:root {
    /* Typography - Apple HIG compliant (17px base) */
    --font-size-xs: 0.8125rem;
    --font-size-sm: 0.9375rem;
    --font-size-base: 1.0625rem;
    --font-size-lg: 1.25rem;
    --font-size-xl: 1.5rem;
    --font-size-2xl: 1.875rem;
    --font-size-3xl: 2.25rem;
    --line-height-base: 1.75;
    --line-height-relaxed: 1.65;
    --line-height-tight: 1.22;

    /* Spacing scale */
    --space-1: 0.25rem;
    --space-2: 0.5rem;
    --space-3: 0.75rem;
    --space-4: 1rem;
    --space-6: 1.5rem;
    --space-8: 2rem;
    --space-12: 3rem;

    /* Radius */
    --radius-sm: 6px;
    --radius-md: 10px;
    --radius-lg: 16px;

    /* Layout helpers */
    --layout-max-width: 72rem;
    --measure: 68ch;
    --measure-wide: 72ch;

    /* Transition timing */
    --transition-fast: 0.15s ease;
    --transition-base: 0.2s ease;
    --transition-slow: 0.3s ease;

    /* Overlay tokens - theme-invariant */
    --color-overlay-dark-35: rgba(0, 0, 0, 0.35);
    --color-overlay-dark-40: rgba(0, 0, 0, 0.4);
    --color-overlay-dark-60: rgba(0, 0, 0, 0.6);
    --color-overlay-light-25: rgba(255, 255, 255, 0.25);
    --color-overlay-light-35: rgba(255, 255, 255, 0.35);
    --color-overlay-light-50: rgba(255, 255, 255, 0.5);
    --color-overlay-light-80: rgba(255, 255, 255, 0.8);
    --color-overlay-light-90: rgba(255, 255, 255, 0.9);

    /* Z-index scale - Space Radio Design System */
    --z-base: 0;
    --z-dropdown: 10;
    --z-sticky: 20;
    --z-fixed: 30;
    --z-modal-backdrop: 40;
    --z-modal: 50;
    --z-popover: 60;
    --z-tooltip: 70;

    /* Typography enhancements */
    --font-size-4xl: 3rem;
    --font-size-5xl: 3.75rem;
    --font-size-6xl: 4.5rem;
    --font-weight-light: 300;
    --font-weight-extrabold: 800;
    --letter-spacing-tighter: -0.02em;
    --letter-spacing-tight: -0.01em;
    --letter-spacing-wide: 0.04em;
    --letter-spacing-wider: 0.12em;
    --line-height-none: 1;
    --line-height-extra-tight: 1.1;
}

/* =============================================
 * Light Theme (default)
 * ============================================= */
:root {
    /* Background palette */
    --color-bg-page: #fffaf4;
    --color-bg-surface: #ffffff;
    --color-bg-muted: #f8efe4;

    /* Text colors - WCAG AA compliant (4.5:1+ contrast) */
    --color-text-primary: #2a1c17;
    --color-text-primary-rgb: 42 28 23;
    --color-text-secondary: #46342a;
    --color-text-muted: #5f4d42;
    --color-text-inverse: #fef9f0;

    /* Border tokens */
    --color-border: #dcc9ba;
    --color-border-soft: rgba(var(--color-text-primary-rgb), 0.08);
    --color-border-subtle: rgba(var(--color-text-primary-rgb), 0.12);
    --color-border-strong: #cbb69d;

    /* Accent + interactive colors */
    --color-accent: #fb8f68;
    --color-accent-dark: #d67046;
    --color-accent-soft: #ffe7dc;
    --color-accent-rgb: 251 143 104;
    --color-accent-tint: rgba(var(--color-accent-rgb), 0.16);
    --color-accent-tint-6: color-mix(in srgb, var(--color-accent) 6%, transparent);
    --color-accent-tint-8: color-mix(in srgb, var(--color-accent) 8%, transparent);
    --color-accent-tint-12: color-mix(in srgb, var(--color-accent) 12%, transparent);
    --color-accent-tint-18: color-mix(in srgb, var(--color-accent) 18%, transparent);
    --color-link: #c05c3e;
    --color-link-hover: #9a472f;

    /* State colors */
    --color-state-success-bg: #e5f7ee;
    --color-state-success-text: #2e7d50;
    --color-state-info-bg: #fff4d9;
    --color-state-info-text: #8c6a1e;
    --color-success: #4f8b63;
    --color-warning: #d8871d;
    --color-danger: #c84c3a;
    --color-note: #8d7bd6;

    /* Shadow presets */
    --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.05);
    --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.06);
    --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.08);
    --shadow-soft: 0 6px 18px rgba(47, 37, 25, 0.08);
    --shadow-strong: 0 16px 36px rgba(47, 37, 25, 0.14);
    --shadow-xl: 0 24px 48px rgba(0, 0, 0, 0.18);
    --shadow-2xl: 0 32px 64px rgba(0, 0, 0, 0.22);

    /* Lightbox & overlay */
    --color-backdrop: rgba(0, 0, 0, 0.65);
    --shadow-lightbox: 0 20px 60px rgba(0, 0, 0, 0.4);

    /* Interactive state */
    --shadow-button-hover: 0 6px 20px rgba(251, 143, 104, 0.3);

    /* Glow effects - Space Radio Design System */
    --glow-accent-soft: 0 0 20px rgba(251, 143, 104, 0.2);
    --glow-accent-strong: 0 0 32px rgba(251, 143, 104, 0.4);
    --glow-cool: 0 0 24px rgba(74, 158, 255, 0.3);

    /* Code block colors */
    --color-code-bg: #f6f8fa;

    /* Space Radio Color Palettes - Light Theme */
    --color-accent-warm: #fb8f68;
    --color-accent-cool: #4a9eff;

    /* Retro radio palette */
    --color-radio-dial: #d4a574;
    --color-radio-tube: #ff9966;
    --color-radio-grill: #8b7355;

    /* Spaceship palette */
    --color-space-cyan: #6ee7b7;
    --color-space-purple: #a78bfa;
    --color-space-blue: #3b82f6;
    --color-space-silver: #94a3b8;

    /* Gradient tokens - Light Theme */
    --gradient-warm-to-cool: linear-gradient(135deg, #fb8f68 0%, #4a9eff 100%);
    --gradient-cosmic: linear-gradient(135deg, #a78bfa 0%, #6ee7b7 50%, #4a9eff 100%);
    --gradient-radio-glow: radial-gradient(circle, #ff9966 0%, #fb8f68 50%, transparent 100%);
    --gradient-bg-cosmic: radial-gradient(ellipse at top, rgba(99, 102, 241, 0.05) 0%, transparent 50%),
                          radial-gradient(ellipse at bottom, rgba(236, 72, 153, 0.05) 0%, transparent 50%);
    --gradient-bg-radio: radial-gradient(circle at 20% 20%, rgba(251, 143, 104, 0.08) 0%, transparent 40%),
                         radial-gradient(circle at 80% 80%, rgba(212, 165, 116, 0.06) 0%, transparent 40%);
}

/* =============================================
 * Dark Theme
 * ============================================= */
:root[data-theme="dark"] {
    color-scheme: dark;

    /* Background palette */
    --color-bg-page: #140e0b;
    --color-bg-surface: #1b140f;
    --color-bg-muted: #241914;

    /* Text colors - WCAG AA compliant (4.5:1+ contrast) */
    --color-text-primary: #f8ede1;
    --color-text-primary-rgb: 248 237 225;
    --color-text-secondary: #d7c6b8;
    --color-text-muted: #b8a090;
    --color-text-inverse: #1b120c;

    /* Border tokens */
    --color-border: #3b2b22;
    --color-border-soft: rgba(var(--color-text-primary-rgb), 0.08);
    --color-border-subtle: rgba(var(--color-text-primary-rgb), 0.16);
    --color-border-strong: #4b372d;

    /* Accent + interactive colors */
    --color-accent: #fb9f74;
    --color-accent-dark: #f77342;
    --color-accent-soft: rgba(251, 159, 116, 0.16);
    --color-accent-rgb: 251 159 116;
    --color-accent-tint: rgba(var(--color-accent-rgb), 0.22);
    --color-accent-tint-6: color-mix(in srgb, var(--color-accent) 6%, transparent);
    --color-accent-tint-8: color-mix(in srgb, var(--color-accent) 8%, transparent);
    --color-accent-tint-12: color-mix(in srgb, var(--color-accent) 12%, transparent);
    --color-accent-tint-18: color-mix(in srgb, var(--color-accent) 18%, transparent);
    --color-link: #ffb088;
    --color-link-hover: #ffcfb3;

    /* State colors */
    --color-state-success-bg: rgba(93, 161, 118, 0.16);
    --color-state-success-text: #9dd8b2;
    --color-state-info-bg: rgba(237, 189, 104, 0.16);
    --color-state-info-text: #f2d39a;
    --color-success: #8bcaa0;
    --color-warning: #f3b05b;
    --color-danger: #f18879;
    --color-note: #a79fe6;

    /* Shadow presets - stronger for dark mode */
    --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.3);
    --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.35);
    --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.4);
    --shadow-soft: 0 10px 28px rgba(0, 0, 0, 0.32);
    --shadow-strong: 0 24px 42px rgba(0, 0, 0, 0.44);
    --shadow-xl: 0 24px 48px rgba(0, 0, 0, 0.5);
    --shadow-2xl: 0 32px 64px rgba(0, 0, 0, 0.6);

    /* Lightbox & overlay */
    --color-backdrop: rgba(0, 0, 0, 0.85);
    --shadow-lightbox: 0 20px 60px rgba(0, 0, 0, 0.6);

    /* Interactive state */
    --shadow-button-hover: 0 6px 20px rgba(251, 159, 116, 0.35);

    /* Glow effects - Space Radio Design System (brighter for dark) */
    --glow-accent-soft: 0 0 24px rgba(251, 159, 116, 0.3);
    --glow-accent-strong: 0 0 36px rgba(251, 159, 116, 0.5);
    --glow-cool: 0 0 28px rgba(96, 165, 250, 0.4);

    /* Code block colors */
    --color-code-bg: #282a36;

    /* Space Radio Color Palettes - Dark Theme (brighter, more vivid) */
    --color-accent-warm: #ff9f74;
    --color-accent-cool: #60a5fa;

    /* Retro radio palette - adjusted for dark */
    --color-radio-dial: #e5b882;
    --color-radio-tube: #ffaa77;
    --color-radio-grill: #9d8366;

    /* Spaceship palette - adjusted for dark */
    --color-space-cyan: #7df3c4;
    --color-space-purple: #b99aff;
    --color-space-blue: #5b9eff;
    --color-space-silver: #a8b8cc;

    /* Gradient tokens - Dark Theme (more vivid) */
    --gradient-warm-to-cool: linear-gradient(135deg, #ff9f74 0%, #60a5fa 100%);
    --gradient-cosmic: linear-gradient(135deg, #b99aff 0%, #7df3c4 50%, #5b9eff 100%);
    --gradient-radio-glow: radial-gradient(circle, #ffaa77 0%, #ff9f74 50%, transparent 100%);
    --gradient-bg-cosmic: radial-gradient(ellipse at top, rgba(139, 92, 246, 0.08) 0%, transparent 50%),
                          radial-gradient(ellipse at bottom, rgba(244, 114, 182, 0.08) 0%, transparent 50%);
    --gradient-bg-radio: radial-gradient(circle at 20% 20%, rgba(255, 159, 116, 0.12) 0%, transparent 40%),
                         radial-gradient(circle at 80% 80%, rgba(229, 184, 130, 0.08) 0%, transparent 40%);
}
