/* =============================================
 * Theme-Invariant Tokens (defined once)
 * ============================================= */
:root {
    /* Typography - Apple HIG compliant (17px base) */
    --font-size-xs: 0.8125rem;
    --font-size-sm: 0.9375rem;
    --font-size-base: 1.0625rem;
    --font-size-lg: 1.25rem;
    --font-size-xl: 1.5rem;
    --font-size-2xl: 1.875rem;
    --font-size-3xl: 2.25rem;
    --line-height-base: 1.75;
    --line-height-relaxed: 1.65;
    --line-height-tight: 1.22;

    /* Spacing scale */
    --space-1: 0.25rem;
    --space-2: 0.5rem;
    --space-3: 0.75rem;
    --space-4: 1rem;
    --space-6: 1.5rem;
    --space-8: 2rem;
    --space-12: 3rem;

    /* Radius */
    --radius-sm: 6px;
    --radius-md: 10px;
    --radius-lg: 16px;

    /* Layout helpers */
    --layout-max-width: 72rem;
    --measure: 68ch;
    --measure-wide: 72ch;

    /* Transition timing */
    --transition-fast: 0.15s ease;
    --transition-base: 0.2s ease;
    --transition-slow: 0.3s ease;

    /* Overlay tokens - theme-invariant */
    --color-overlay-dark-35: rgba(0, 0, 0, 0.35);
    --color-overlay-dark-40: rgba(0, 0, 0, 0.4);
    --color-overlay-dark-60: rgba(0, 0, 0, 0.6);
    --color-overlay-light-25: rgba(255, 255, 255, 0.25);
    --color-overlay-light-35: rgba(255, 255, 255, 0.35);
    --color-overlay-light-50: rgba(255, 255, 255, 0.5);
    --color-overlay-light-80: rgba(255, 255, 255, 0.8);
    --color-overlay-light-90: rgba(255, 255, 255, 0.9);

    /* Z-index scale - Space Radio Design System */
    --z-base: 0;
    --z-dropdown: 10;
    --z-sticky: 20;
    --z-fixed: 30;
    --z-modal-backdrop: 40;
    --z-modal: 50;
    --z-popover: 60;
    --z-tooltip: 70;

    /* Typography enhancements */
    --font-size-4xl: 3rem;
    --font-size-5xl: 3.75rem;
    --font-size-6xl: 4.5rem;
    --font-weight-light: 300;
    --font-weight-extrabold: 800;
    --letter-spacing-tighter: -0.02em;
    --letter-spacing-tight: -0.01em;
    --letter-spacing-wide: 0.04em;
    --letter-spacing-wider: 0.12em;
    --line-height-none: 1;
    --line-height-extra-tight: 1.1;
}

/* =============================================
 * Light Theme (default) - Modern Spaceship
 * ============================================= */
:root {
    /* Background palette - Cool, clean whites and grays */
    --color-bg-page: #fafbfc;
    --color-bg-surface: #ffffff;
    --color-bg-muted: #f6f8fa;
    --color-bg-elevated: #ffffff;

    /* Text colors - WCAG AA compliant (4.5:1+ contrast) - Cool grays */
    --color-text-primary: #0d1117;
    --color-text-primary-rgb: 13 17 23;
    --color-text-secondary: #57606a;
    --color-text-muted: #8b949e;
    --color-text-inverse: #ffffff;

    /* Border tokens - Cool neutrals */
    --color-border: #d0d7de;
    --color-border-soft: rgba(var(--color-text-primary-rgb), 0.08);
    --color-border-subtle: rgba(var(--color-text-primary-rgb), 0.12);
    --color-border-strong: #afb8c1;

    /* Accent + interactive colors - Electric blue primary */
    --color-accent: #0969da;
    --color-accent-dark: #0550ae;
    --color-accent-soft: #ddf4ff;
    --color-accent-rgb: 9 105 218;
    --color-accent-tint: rgba(var(--color-accent-rgb), 0.16);
    --color-accent-tint-6: color-mix(in srgb, var(--color-accent) 6%, transparent);
    --color-accent-tint-8: color-mix(in srgb, var(--color-accent) 8%, transparent);
    --color-accent-tint-12: color-mix(in srgb, var(--color-accent) 12%, transparent);
    --color-accent-tint-18: color-mix(in srgb, var(--color-accent) 18%, transparent);
    --color-link: #0969da;
    --color-link-hover: #0550ae;

    /* State colors - Modern palette */
    --color-state-success-bg: #dafbe1;
    --color-state-success-text: #1a7f37;
    --color-state-info-bg: #ddf4ff;
    --color-state-info-text: #0969da;
    --color-success: #1a7f37;
    --color-warning: #bf8700;
    --color-danger: #cf222e;
    --color-note: #8250df;

    /* Shadow presets */
    --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.05);
    --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.06);
    --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.08);
    --shadow-soft: 0 6px 18px rgba(47, 37, 25, 0.08);
    --shadow-strong: 0 16px 36px rgba(47, 37, 25, 0.14);
    --shadow-xl: 0 24px 48px rgba(0, 0, 0, 0.18);
    --shadow-2xl: 0 32px 64px rgba(0, 0, 0, 0.22);

    /* Lightbox & overlay */
    --color-backdrop: rgba(0, 0, 0, 0.65);
    --shadow-lightbox: 0 20px 60px rgba(0, 0, 0, 0.4);

    /* Interactive state - Modern blue glow */
    --shadow-button-hover: 0 6px 20px rgba(9, 105, 218, 0.3);

    /* Glow effects - Modern Spaceship (cool tones) */
    --glow-accent-soft: 0 0 20px rgba(9, 105, 218, 0.2);
    --glow-accent-strong: 0 0 32px rgba(9, 105, 218, 0.4);
    --glow-cool: 0 0 24px rgba(56, 189, 248, 0.3);

    /* Code block colors */
    --color-code-bg: #f6f8fa;

    /* Modern Spaceship Color Palettes - Light Theme */
    --color-accent-warm: #fb8f68;
    --color-accent-cool: #0969da;

    /* Retro radio palette (legacy, can be used for accents) */
    --color-radio-dial: #d4a574;
    --color-radio-tube: #ff9966;
    --color-radio-grill: #8b7355;

    /* Spaceship palette - Primary modern colors */
    --color-space-cyan: #22d3ee;
    --color-space-purple: #a855f7;
    --color-space-blue: #0969da;
    --color-space-silver: #6e7781;

    /* Gradient tokens - Light Theme (cool, futuristic) */
    --gradient-warm-to-cool: linear-gradient(135deg, #0969da 0%, #22d3ee 100%);
    --gradient-cosmic: linear-gradient(135deg, #a855f7 0%, #22d3ee 50%, #0969da 100%);
    --gradient-radio-glow: radial-gradient(circle, #22d3ee 0%, #0969da 50%, transparent 100%);
    --gradient-bg-cosmic: radial-gradient(ellipse at top, rgba(9, 105, 218, 0.03) 0%, transparent 50%),
                          radial-gradient(ellipse at bottom, rgba(34, 211, 238, 0.03) 0%, transparent 50%);
    --gradient-bg-radio: radial-gradient(circle at 20% 20%, rgba(9, 105, 218, 0.04) 0%, transparent 40%),
                         radial-gradient(circle at 80% 80%, rgba(168, 85, 247, 0.03) 0%, transparent 40%);
}

/* =============================================
 * Dark Theme - Modern Spaceship (Deep Space)
 * ============================================= */
:root[data-theme="dark"] {
    color-scheme: dark;

    /* Background palette - Deep space blacks with cool tint */
    --color-bg-page: #0d1117;
    --color-bg-surface: #161b22;
    --color-bg-muted: #21262d;
    --color-bg-elevated: #1c2128;

    /* Text colors - WCAG AA compliant (4.5:1+ contrast) - Cool grays */
    --color-text-primary: #e6edf3;
    --color-text-primary-rgb: 230 237 243;
    --color-text-secondary: #8b949e;
    --color-text-muted: #6e7781;
    --color-text-inverse: #0d1117;

    /* Border tokens - Cool neutrals */
    --color-border: #30363d;
    --color-border-soft: rgba(var(--color-text-primary-rgb), 0.08);
    --color-border-subtle: rgba(var(--color-text-primary-rgb), 0.16);
    --color-border-strong: #484f58;

    /* Accent + interactive colors - Bright electric blue for dark */
    --color-accent: #58a6ff;
    --color-accent-dark: #1f6feb;
    --color-accent-soft: rgba(88, 166, 255, 0.16);
    --color-accent-rgb: 88 166 255;
    --color-accent-tint: rgba(var(--color-accent-rgb), 0.22);
    --color-accent-tint-6: color-mix(in srgb, var(--color-accent) 6%, transparent);
    --color-accent-tint-8: color-mix(in srgb, var(--color-accent) 8%, transparent);
    --color-accent-tint-12: color-mix(in srgb, var(--color-accent) 12%, transparent);
    --color-accent-tint-18: color-mix(in srgb, var(--color-accent) 18%, transparent);
    --color-link: #58a6ff;
    --color-link-hover: #79c0ff;

    /* State colors - Modern palette for dark */
    --color-state-success-bg: rgba(46, 160, 67, 0.16);
    --color-state-success-text: #3fb950;
    --color-state-info-bg: rgba(88, 166, 255, 0.16);
    --color-state-info-text: #58a6ff;
    --color-success: #3fb950;
    --color-warning: #d29922;
    --color-danger: #f85149;
    --color-note: #a371f7;

    /* Shadow presets - stronger for dark mode */
    --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.3);
    --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.35);
    --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.4);
    --shadow-soft: 0 10px 28px rgba(0, 0, 0, 0.32);
    --shadow-strong: 0 24px 42px rgba(0, 0, 0, 0.44);
    --shadow-xl: 0 24px 48px rgba(0, 0, 0, 0.5);
    --shadow-2xl: 0 32px 64px rgba(0, 0, 0, 0.6);

    /* Lightbox & overlay */
    --color-backdrop: rgba(0, 0, 0, 0.85);
    --shadow-lightbox: 0 20px 60px rgba(0, 0, 0, 0.6);

    /* Interactive state - Bright blue glow for dark */
    --shadow-button-hover: 0 6px 20px rgba(88, 166, 255, 0.4);

    /* Glow effects - Modern Spaceship (vivid for dark) */
    --glow-accent-soft: 0 0 24px rgba(88, 166, 255, 0.3);
    --glow-accent-strong: 0 0 36px rgba(88, 166, 255, 0.5);
    --glow-cool: 0 0 28px rgba(34, 211, 238, 0.4);

    /* Code block colors */
    --color-code-bg: #161b22;

    /* Modern Spaceship Color Palettes - Dark Theme (vivid, electric) */
    --color-accent-warm: #ff9f74;
    --color-accent-cool: #58a6ff;

    /* Retro radio palette (legacy) */
    --color-radio-dial: #e5b882;
    --color-radio-tube: #ffaa77;
    --color-radio-grill: #9d8366;

    /* Spaceship palette - Vivid for dark theme */
    --color-space-cyan: #22d3ee;
    --color-space-purple: #c084fc;
    --color-space-blue: #58a6ff;
    --color-space-silver: #8b949e;

    /* Gradient tokens - Dark Theme (electric, futuristic) */
    --gradient-warm-to-cool: linear-gradient(135deg, #58a6ff 0%, #22d3ee 100%);
    --gradient-cosmic: linear-gradient(135deg, #c084fc 0%, #22d3ee 50%, #58a6ff 100%);
    --gradient-radio-glow: radial-gradient(circle, #22d3ee 0%, #58a6ff 50%, transparent 100%);
    --gradient-bg-cosmic: radial-gradient(ellipse at top, rgba(88, 166, 255, 0.05) 0%, transparent 50%),
                          radial-gradient(ellipse at bottom, rgba(34, 211, 238, 0.05) 0%, transparent 50%);
    --gradient-bg-radio: radial-gradient(circle at 20% 20%, rgba(88, 166, 255, 0.08) 0%, transparent 40%),
                         radial-gradient(circle at 80% 80%, rgba(192, 132, 252, 0.05) 0%, transparent 40%);
}
